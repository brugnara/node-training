/**
 * Created by brugnara on 14/07/16,
 * @ daniele@brugnara.me
 */

'use strict';

const Debug = require('debug');
const DEFAULT_SCOPE = '###';

module.exports = function (options) {

  options = options || {};

  const debug = Debug(options.scope || DEFAULT_SCOPE);

  return function*(next) {
    yield next;

    debug('%s %s\n\trequest.body: %j',
      this.method, this.path, this.request.body);
  };

};

