/**
 * Created by brugnara on 15/07/16,
 * @ daniele@brugnara.me
 */

const Debug = require('debug');
const DEFAULT_SCOPE = 'corso:error_404';

module.exports = function (options) {

  options = options || {};

  const debug = Debug(options.scope || DEFAULT_SCOPE);

  debug('cargando...');

  return function *(next) {
    if (!this.body) {
      debug('404, not found');
      this.status = 404;
      this.body = 'hai sbagliato pagina';
    }
    yield next;
  }

};

